<!DOCTYPE html>
<html>
<head>
<meta name="keywords" content="Sam Dutton, HTML5, JavaScript" />
<meta name="description" content="Simplest possible examples of HTML, CSS and JavaScript." />
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1">
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<base target="_blank">
<title>simplestpossible: postMessage() other.html</title>
<link rel="stylesheet" href="../../css/main.css">
</head>

<body>
<div id="container">

  <h1><a href="../../index.html" title="simpl.info home page">simpl.info</a> postMessage() other.html</h1>
  <p id="data"></p>

  <script>
  window.addEventListener("message", function receiveMessage(event) {
  console.log(event);
    log("Got a message from event.origin " + event.origin + ": ");
    log("<em>" + event.data + "</em>");
    // posting back to message source, i.e. index.html
    // second parameter is eventOrigin: must match event.origin
    event.source.postMessage("hi! this is a message from other.html", "*");
  });

  function log(message){
    document.getElementById("data").innerHTML += message + "<br /><br />";
  }
  </script>

<a href="https://github.com/samdutton/simpl/blob/master/postmessage/popup/other.html" title="View source for this page on github" id="viewSource">View source on github</a>
</div>
<script src="../../js/lib/ga.js"></script>
</body>
</html>
